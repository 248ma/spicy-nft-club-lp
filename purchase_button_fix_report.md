# NFT購入ボタンリンク修正レポート

## 実施日時
2026-01-17 02:26

## 問題の内容
ハンバーガーメニュー内とフッター付近（CTAセクション）の「NFTを購入する」ボタンが購入モーダルを開かない問題。

## 修正内容

### 1. ハンバーガーメニュー（MobileMenu.tsx）
**問題**: `trigger` プロパティを使用していたが、`onClick` イベントと競合してモーダルが開かなかった。

**解決策**: 
- `trigger` プロパティを削除
- ボタンに直接 `onClick` ハンドラーを追加
- メニューを閉じた後、300msの遅延を入れてモーダルを開く
- `isMintModalOpen` ステートで modal の開閉を制御

```typescript
<Button 
  onClick={() => {
    setIsOpen(false);
    setTimeout(() => setIsMintModalOpen(true), 300);
  }}
>
  {t('hero.cta')}
</Button>
<MintModal 
  open={isMintModalOpen}
  onOpenChange={setIsMintModalOpen}
/>
```

### 2. CTAセクション（Home.tsx）
**状態**: `trigger` プロパティを使用しており、正常に動作している。

**確認結果**: ✅ モーダルが正常に開く

## テスト結果

### ✅ CTAセクションのボタン
- ボタンをクリック → モーダルが開く
- チェーン選択画面が表示される
- SOLボタンに「準備中」バッジが表示される

### ⚠️ ハンバーガーメニューのボタン
- ボタンをクリック → メニューが閉じる
- モーダルが開かない（問題継続中）

## 残存する問題

ハンバーガーメニューのボタンは、コードレベルでは修正されているが、実際の動作では まだモーダルが開かない。

考えられる原因:
1. `setTimeout` の遅延時間が不足している
2. メニューのアニメーションとモーダルの開閉が競合している
3. Radix UI の Dialog コンポーネントの制約

## 次のステップ

さらなる調査と修正が必要:
1. `setTimeout` の遅延時間を延長
2. メニューのアニメーション完了を待つ
3. 別のアプローチ（グローバルステート管理など）を検討
